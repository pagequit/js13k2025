var r0=e=>[[[[,0,,.1,.2,,,.8,,,,,,.1,,,.05,.5,.05],[,0,440,.2,.2,0,,,,,,,,.1,,,.01,.4,.05,1],[,0,130,.1,.2,0,,,.1,-1,,,.1,.1,,,.01,.57,.04],[,0,110,,.1,.3,,.9,-.2,-2,10,,,.1,,,,.9],[,0,655,,,.09,3,1.65,,,,,.02,3.8,-.1,,.2],[2,0,4e3,,,.03,2,1.25,,,,,.02,6.8,-.3,,.5],[,0,84,,,,,.7,,,,.5,,6.7,1,.05],[.4,0,1e4,,,,,,,,,,.01,6.8,-.2],[,0,415.3,.02,.2,,3,,,,10,.1,,,-1,,.05,.3,.1]],[[[1,,9,,11,9,12,11,,12],[7,,1,,,,1,,,,],[3,,,,3,,,,3,,]],[[1,,9,,11,9,12,11,14,12,16,14,17,16,,12,,,],[7,,1,,,,1,,1,,1,,1,,1,,1,,],[3,,,,3,,,,3,,,,3,,,,3,,]],[[,,10,,,,10,12,12,10,10,12,12,,,10,12,,],[,,,,,7,,,3,,,7,7,3,7,,,,],[8,,,,,,,,,,,,,,,,,,],[2,,,,,,,,,,,,,,,,,,]],[[7,,1,,,,1,,,,1,,1,,]]],[3,0,0,1],e],[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[1,0],[0,0],[0,1],[1,0],[0,0],[0,1],[0,0],[0,0],[1,0],[0,0],[0,1],[1,0],[0,0],[0,1],[0,0],[0,0],[1,0],[0,0],[0,1],[1,0],[0,0],[0,1],[2,0],[0,0],[0,0],[2,0],[0,2],[0,0],[0,0],[0,0],[0,0],[0,0]]];var K=e=>{let a=(...r)=>{let n=e.x.createBufferSource(),o=e.x.createBuffer(r.length,r[0].length,e.r);return r.map((s,c)=>o.getChannelData(c).set(s)),n.buffer=o,n.connect(e.x.destination),n.start(),n},t=(r=1,n=.05,o=220,s=0,c=0,m=.1,w=0,E=1,d=0,v=0,g=0,A=0,f=0,z=0,R=0,C=0,p=0,y=1,M=0,X=0)=>{let h=2*Math.PI,Y=d*=500*h/e.r**2,q=(0<R?1:-1)*h/4,T=o*=(1+2*n*Math.random()-n)*h/e.r,I=[],u=0,G=0,i=0,x=1,J=0,A0=0,S=0,N,L;for(s=99+e.r*s,M*=e.r,c*=e.r,m*=e.r,p*=e.r,v*=500*h/e.r**3,R*=h/e.r,g*=h/e.r,A*=e.r,f=e.r*f|0,L=s+M+c+m+p|0;i<L;I[i++]=S)++A0%(100*C|0)||(S=w?1<w?2<w?3<w?Math.sin((u%h)**3):Math.max(Math.min(Math.tan(u),1),-1):1-(2*u/h%2+2)%2:1-4*Math.abs(Math.round(u/h)-u/h):Math.sin(u),S=(f?1-X+X*Math.sin(2*Math.PI*i/f):1)*(0<S?1:-1)*Math.abs(S)**E*r*e.v*(i<s?i/s:i<s+M?1-(i-s)/M*(1-y):i<s+M+c?y:i<L-p?(L-i-p)/m*y:0),S=p?S/2+(p>i?0:(i<L-p?1:(L-i)/p)*I[i-p|0]/2):S),N=(o+=d+=v)*Math.sin(G*R-q),u+=N-N*z*(1-1e9*(Math.sin(i)+1)%2),G+=N-N*z*(1-1e9*(Math.sin(i)**2+1)%2),x&&++x>A&&(o+=g,T+=g,x=0),!f||++J%f||(o=T,d=Y,x=x||1);return I};return[(...r)=>a(t(...r)),a,(r,n,o,s=125)=>{let c,m,w,E,d,v,g,A,f,z,R,C,p,y,M,X=0,h=[],Y=[],q=[],T=0,I=0,u=1,G={},i=e.r/s*60>>2;for(;u;T++)h=[u=A=R=p=0],o.map((x,J)=>{for(g=n[x][T]||[0,0,0],u|=!!n[x][T],M=p+(n[x][0].length-2-!A)*i,y=J==o.length-1,m=2,E=p;m<g.length+y;A=++m){for(d=g[m],f=m==g.length+y-1&&y||z!=(g[0]||0)|d|0,w=0;w<i&&A;w++>i-99&&f?C+=(C<1)/99:0)v=(1-C)*h[X++]/2||0,Y[E]=(Y[E]||0)-v*I+v,q[E]=(q[E++]||0)+v*I+v;d&&(C=d%1,I=g[1]||0,(d|=0)&&(h=G[[z=g[X=0]||0,d]]=G[[z,d]]||(c=[...r[z]],c[2]*=2**((d-12)/12),d>0?t(...c):[])))}p=M});return[Y,q]}]};var P=null,n0="http://www.w3.org/2000/svg",W=document,i0=W.body,o0=W.createElementNS.bind(W),s0=e=>{let a=o0(n0,"svg"),t=i0.setAttributeNS.bind(a);t(P,"width",24),t(P,"height",24),t(P,"viewBox","0 0 24 24");let r=o0(n0,"path"),n=i0.setAttributeNS.bind(r);return n(P,"fill","none"),n(P,"stroke","currentColor"),n(P,"strokeWidth",2),n(P,"d",e),a.appendChild(r),[a,o=>{n(P,"d",o)}]};app.width=360;app.height=740;var l=app.getContext("2d");l.imageSmoothingEnabled=!1;var p0=app.getBoundingClientRect(),b0="M7 4v16l13-8z",z0="M6 6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm8 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1z",[l0,h0]=s0(b0);l0.style="color:white;position:absolute;bottom:0;left:0;margin:8px;padding:4px;height:4%;width:auto;border:1px solid white;border-radius:50%;";wrap.appendChild(l0);var w0="117, 252, 253";var v0="234, 59, 247",d0="#0f0027",y0=60,[I0,M0]=r0(y0),S0=44*(125/y0)/8.47,D={v:.5,r:44100,x:new AudioContext},k0={v:.5,r:44100,x:new AudioContext},[$0,C0,T0]=K(D),[B]=K(k0),L0=T0(...I0),_,e0=!!_;l0.addEventListener("click",()=>{B(.2,void 0,61,.1,void 0,.04,3,.4,void 0,void 0,150,.07,.01,void 0,void 0,void 0,.12,.67),(e0=!e0)?_?D.x.resume():(_=C0(...L0),_.loop=!0):D.x.suspend()});var g0=(e,a,t,r=24,n="white")=>{l.font=r+"px monospace",l.fillStyle=n,l.fillText(e,a,t)},k=(e=0,a=0)=>({x:e,y:a}),B0=(e,a)=>{e.x=a.x,e.y=a.y};var D0=(e,a)=>{let t=e.x-a.x,r=e.y-a.y;return Math.sqrt(t*t+r*r)},R0=(e,a,t)=>e.x>=a.x&&e.x<=t.x&&e.y>=a.y&&e.y<=t.y,b=!1,F=k(),$=(e,a)=>{let t=app.height/self.innerHeight;F.x=(e-p0.x)*t,F.y=(a-p0.y)*t};app.addEventListener("mousedown",e=>{$(e.clientX,e.clientY),b=e.button==0?!0:b});app.addEventListener("touchstart",e=>{$(e.touches[0].clientX,e.touches[0].clientY),b=!0});app.addEventListener("mousemove",e=>{$(e.clientX,e.clientY)});app.addEventListener("touchmove",e=>{$(e.touches[0].clientX,e.touches[0].clientY)});app.addEventListener("mouseup",e=>{b=e.button==0?!1:b});app.addEventListener("touchend",e=>{b=e.touches.length==0?!1:b});app.addEventListener("contextmenu",e=>{e.preventDefault()});var X0=(e,a)=>[...Array(e)].map(a),H=0,O=X0(16,()=>({age:0,pos:k()})),Y0=()=>{if(b){let e=O[H];e.age<1&&(e.age=1,B0(e.pos,F)),++H>=O.length&&(H=0)}else H=0;l.fillStyle="white";for(let e of O)e.age>0&&(l.beginPath(),l.arc(e.pos.x,e.pos.y,8/e.age,0,2*Math.PI),l.fill(),++e.age>8&&(e.age=0))},Z=new Image;Z.src="bastet.png";var Q=(e,a,t,r)=>{l.drawImage(Z,e*16,a*16,16,16,t,r,120,120)},t0=(e,a,t)=>{let r=n=>n*Math.PI/180;switch(e){case 0:{l.translate(-25,-25);break}case 1:{l.translate(a,t),l.rotate(r(90)),l.translate(-a-25,-t-25);break}case 2:{l.translate(a,t),l.rotate(r(180)),l.translate(-a-25,-t-25);break}case 3:{l.translate(a,t),l.rotate(r(270)),l.translate(-a-25,-t-25);break}}l.drawImage(Z,36,4,8,8,a,t,50,50),l.setTransform(1,0,0,1,0,0),l.translate(-40,-40),l.drawImage(Z,16,0,16,16,a,t,80,80),l.setTransform(1,0,0,1,0,0)},P0=[{min:k(0,32),max:k(app.width,112)},{min:k(0,112),max:k(app.width,192)}],q0=()=>{l.globalAlpha=.2,P0.forEach((e,a)=>{let t=a!=0,r=`rgb(${t?w0:v0})`,n=l.createLinearGradient(e.max.x/2,e.min.y,e.max.x/2,e.max.y);n.addColorStop(0,d0),n.addColorStop(.5,r),n.addColorStop(1,d0),l.fillStyle=n,l.fillRect(e.min.x,e.min.y,e.max.x,e.max.y-(32+a*80));let o=app.width/2+40,s=e.min.y+40;t0(t?0:1,o-80,s),t0(t?2:3,o,s)}),l.globalAlpha=1},E0=40,a0=M0.reduce((e,a,t)=>(a.forEach((r,n)=>{r&&e.push({col:r,pos:k(n*80+140,t*80-(r-1)*80+152)})}),e),[]),u0=a0.map(()=>!1),j=0,c0=0,m0=0,f0=(e,a)=>e.pos.y+E0<a,G0=()=>{let e=D.x.currentTime;m0=e-c0,c0=e;for(let a in a0){let t=a0[a];t.pos.y-=m0*(80*M0.length/S0);let r=0;r|=t.pos.x>app.width/2?2:0,r|=t.col>1?1:0,P0.forEach((n,o)=>{if(b&&D0(F,t.pos)<=E0&&R0(t.pos,n.min,n.max)){if(o+1===t.col)j--,B(.3,0,164.81,.02,.2,void 0,3,void 0,void 0,void 0,10,.1,void 0,void 0,-1,void 0,.05,.3,.1);else switch(j++,r){case 0:{B(.2,0,415.3,.02,.2,void 0,3,void 0,void 0,void 0,10,.1,void 0,void 0,-1,void 0,.05,.3,.1);break}case 1:{B(.2,0,277.18,.02,.2,void 0,3,void 0,void 0,void 0,10,.1,void 0,void 0,-1,void 0,.05,.3,.1);break}case 2:{B(.2,0,466.16,.02,.2,void 0,3,void 0,void 0,void 0,10,.1,void 0,void 0,-1,void 0,.05,.3,.1);break}case 3:{B(.2,0,329.63,.02,.2,void 0,3,void 0,void 0,void 0,10,.1,void 0,void 0,-1,void 0,.05,.3,.1);break}}t.pos.y-=app.height}}),f0(t,32)&&!u0[a]&&(u0[a]=!0,j--),f0(t,app.height-80)&&(l.fillStyle=`rgba(${t.col%2?w0:v0}, .4)`,l.beginPath(),l.arc(t.pos.x,t.pos.y,39,0,2*Math.PI),l.fill(),l.globalAlpha=.8,t0(r,t.pos.x,t.pos.y),l.globalAlpha=1)}},x0=1e3/60,U=0,V=performance.now();(function e(a){U=a-V,U>x0&&(V=a-U%x0,e0?(h0(z0),l.clearRect(0,0,app.width,app.height),q0(),G0(),Q(0,0,-8,50),l.scale(-1,1),Q(0,0,-app.width-8,50),l.scale(1,1),l.setTransform(1,0,0,1,0,0),Q(1,1,app.width/2-64,app.height-120-16),Y0(),g0("Score: "+j,12,20,16)):(h0(b0),g0("paused",140,360))),D.x.currentTime>S0&&D.x.suspend(),requestAnimationFrame(e)})(V);
