var l0=e=>[[[[,0,,.1,.2,,,.8,,,,,,.1,,,.05,.5,.05],[,0,440,.2,.2,0,,,,,,,,.1,,,.01,.4,.05,1],[,0,130,.1,.2,0,,,.1,-1,,,.1,.1,,,.01,.57,.04],[,0,110,,.1,.3,,.9,-.2,-2,10,,,.1,,,,.9],[,0,655,,,.09,3,1.65,,,,,.02,3.8,-.1,,.2],[2,0,4e3,,,.03,2,1.25,,,,,.02,6.8,-.3,,.5],[,0,84,,,,,.7,,,,.5,,6.7,1,.05],[.4,0,1e4,,,,,,,,,,.01,6.8,-.2],[,0,415.3,.02,.2,,3,,,,10,.1,,,-1,,.05,.3,.1]],[[[1,,9,,11,9,12,11,,12],[7,,1,,,,1,,,,],[3,,,,3,,,,3,,]],[[1,,9,,11,9,12,11,14,12,16,14,17,16,,12,,,],[7,,1,,,,1,,1,,1,,1,,1,,1,,],[3,,,,3,,,,3,,,,3,,,,3,,]],[[,,10,,,,10,12,12,10,10,12,12,,,10,12,,],[,,,,,7,,,3,,,7,7,3,7,,,,],[8,,,,,,,,,,,,,,,,,,],[2,,,,,,,,,,,,,,,,,,]],[[7,,1,,,,1,,,,1,,1,,]]],[3,0,0,1],e],[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[1,0],[0,0],[0,1],[1,0],[0,0],[0,1],[0,0],[0,0],[1,0],[0,0],[0,1],[1,0],[0,0],[0,1],[0,0],[0,0],[1,0],[0,0],[0,1],[1,0],[0,0],[0,1],[2,0],[0,0],[0,0],[2,0],[0,2],[0,0],[0,0],[0,0],[0,0],[0,0]]];var J=e=>{let t=(...r)=>{let n=e.x.createBufferSource(),i=e.x.createBuffer(r.length,r[0].length,e.r);return r.map((s,c)=>i.getChannelData(c).set(s)),n.buffer=i,n.connect(e.x.destination),n.start(),n},a=(r=1,n=.05,i=220,s=0,c=0,m=.1,w=0,E=1,d=0,v=0,g=0,A=0,x=0,z=0,R=0,C=0,p=0,y=1,M=0,X=0)=>{let h=2*Math.PI,q=d*=500*h/e.r**2,G=(0<R?1:-1)*h/4,T=i*=(1+2*n*Math.random()-n)*h/e.r,I=[],u=0,N=0,o=0,f=1,$=0,M0=0,S=0,Y,L;for(s=99+e.r*s,M*=e.r,c*=e.r,m*=e.r,p*=e.r,v*=500*h/e.r**3,R*=h/e.r,g*=h/e.r,A*=e.r,x=e.r*x|0,L=s+M+c+m+p|0;o<L;I[o++]=S)++M0%(100*C|0)||(S=w?1<w?2<w?3<w?Math.sin((u%h)**3):Math.max(Math.min(Math.tan(u),1),-1):1-(2*u/h%2+2)%2:1-4*Math.abs(Math.round(u/h)-u/h):Math.sin(u),S=(x?1-X+X*Math.sin(2*Math.PI*o/x):1)*(0<S?1:-1)*Math.abs(S)**E*r*e.v*(o<s?o/s:o<s+M?1-(o-s)/M*(1-y):o<s+M+c?y:o<L-p?(L-o-p)/m*y:0),S=p?S/2+(p>o?0:(o<L-p?1:(L-o)/p)*I[o-p|0]/2):S),Y=(i+=d+=v)*Math.sin(N*R-G),u+=Y-Y*z*(1-1e9*(Math.sin(o)+1)%2),N+=Y-Y*z*(1-1e9*(Math.sin(o)**2+1)%2),f&&++f>A&&(i+=g,T+=g,f=0),!x||++$%x||(i=T,d=q,f=f||1);return I};return[(...r)=>t(a(...r)),t,(r,n,i,s=125)=>{let c,m,w,E,d,v,g,A,x,z,R,C,p,y,M,X=0,h=[],q=[],G=[],T=0,I=0,u=1,N={},o=e.r/s*60>>2;for(;u;T++)h=[u=A=R=p=0],i.map((f,$)=>{for(g=n[f][T]||[0,0,0],u|=!!n[f][T],M=p+(n[f][0].length-2-!A)*o,y=$==i.length-1,m=2,E=p;m<g.length+y;A=++m){for(d=g[m],x=m==g.length+y-1&&y||z!=(g[0]||0)|d|0,w=0;w<o&&A;w++>o-99&&x?C+=(C<1)/99:0)v=(1-C)*h[X++]/2||0,q[E]=(q[E]||0)-v*I+v,G[E]=(G[E++]||0)+v*I+v;d&&(C=d%1,I=g[1]||0,(d|=0)&&(h=N[[z=g[X=0]||0,d]]=N[[z,d]]||(c=[...r[z]],c[2]*=2**((d-12)/12),d>0?a(...c):[])))}p=M});return[q,G]}]};var P=null,r0="http://www.w3.org/2000/svg",K=document,n0=K.body,o0=K.createElementNS.bind(K),i0=e=>{let t=o0(r0,"svg"),a=n0.setAttributeNS.bind(t);a(P,"width",24),a(P,"height",24),a(P,"viewBox","0 0 24 24");let r=o0(r0,"path"),n=n0.setAttributeNS.bind(r);return n(P,"fill","none"),n(P,"stroke","currentColor"),n(P,"strokeWidth",2),n(P,"d",e),t.appendChild(r),[t,i=>{n(P,"d",i)}]};app.width=360;app.height=740;var l=app.getContext("2d");l.imageSmoothingEnabled=!1;var s0=app.getBoundingClientRect(),m0="M7 4v16l13-8z",S0="M6 6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm8 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1z",[a0,p0]=i0(m0);a0.style="color:white;position:absolute;bottom:0;left:0;margin:8px;padding:4px;height:4%;width:auto;border:1px solid white;border-radius:50%;";wrap.appendChild(a0);var x0="117, 252, 253";var f0="234, 59, 247",h0="#0f0027",b0=60,[P0,w0]=l0(b0),v0=44*(125/b0)/8.47,D={v:.5,r:44100,x:new AudioContext},E0={v:.5,r:44100,x:new AudioContext},[F0,A0,z0]=J(D),[B]=J(E0),I0=z0(...P0),_,V=!!_;a0.addEventListener("click",()=>{B(.2,void 0,61,.1,void 0,.04,3,.4,void 0,void 0,150,.07,.01,void 0,void 0,void 0,.12,.67),(V=!V)?_?D.x.resume():(_=A0(...I0),_.loop=!0):D.x.suspend()});var d0=(e,t,a,r=24,n="white")=>{l.font=r+"px monospace",l.fillStyle=n,l.fillText(e,t,a)},k=(e=0,t=0)=>({x:e,y:t}),k0=(e,t)=>{e.x=t.x,e.y=t.y};var C0=(e,t)=>{let a=e.x-t.x,r=e.y-t.y;return Math.sqrt(a*a+r*r)},T0=(e,t,a)=>e.x>=t.x&&e.x<=a.x&&e.y>=t.y&&e.y<=a.y,b=!1,j=k(),Z=(e,t)=>{let a=app.height/self.innerHeight;j.x=(e-s0.x)*a,j.y=(t-s0.y)*a};app.addEventListener("mousedown",e=>{Z(e.clientX,e.clientY),b=e.button==0?!0:b});app.addEventListener("touchstart",e=>{Z(e.touches[0].clientX,e.touches[0].clientY),b=!0});app.addEventListener("mousemove",e=>{Z(e.clientX,e.clientY)});app.addEventListener("touchmove",e=>{Z(e.touches[0].clientX,e.touches[0].clientY)});app.addEventListener("mouseup",e=>{b=e.button==0?!1:b});app.addEventListener("touchend",e=>{b=e.touches.length==0?!1:b});app.addEventListener("contextmenu",e=>{e.preventDefault()});var L0=(e,t)=>[...Array(e)].map(t),H=0,W=L0(16,()=>({age:0,pos:k()})),B0=()=>{if(b){let e=W[H];e.age<1&&(e.age=1,k0(e.pos,j)),++H>=W.length&&(H=0)}else H=0;l.fillStyle="white";for(let e of W)e.age>0&&(l.beginPath(),l.arc(e.pos.x,e.pos.y,8/e.age,0,2*Math.PI),l.fill(),++e.age>8&&(e.age=0))},F=new Image;F.src="bastet.png";var O=(e,t,a,r)=>{l.drawImage(F,e*16,t*16,16,16,a,r,120,120)},e0=(e,t,a)=>{let r=n=>n*Math.PI/180;switch(e){case 0:{l.translate(-25,-25);break}case 1:{l.translate(t,a),l.rotate(r(90)),l.translate(-t-25,-a-25);break}case 2:{l.translate(t,a),l.rotate(r(180)),l.translate(-t-25,-a-25);break}case 3:{l.translate(t,a),l.rotate(r(270)),l.translate(-t-25,-a-25);break}}l.drawImage(F,36,4,8,8,t,a,50,50),l.setTransform(1,0,0,1,0,0),l.translate(-40,-40),l.drawImage(F,16,0,16,16,t,a,80,80),l.setTransform(1,0,0,1,0,0)},y0=[{min:k(0,32),max:k(app.width,112)},{min:k(0,112),max:k(app.width,192)}],D0=()=>{l.globalAlpha=.2,y0.forEach((e,t)=>{let a=t!=0,r=`rgb(${a?x0:f0})`,n=l.createLinearGradient(e.max.x/2,e.min.y,e.max.x/2,e.max.y);n.addColorStop(0,h0),n.addColorStop(.5,r),n.addColorStop(1,h0),l.fillStyle=n,l.fillRect(e.min.x,e.min.y,e.max.x,e.max.y-(32+t*80));let i=app.width/2+40,s=e.min.y+40;e0(a?0:1,i-80,s),e0(a?2:3,i,s)}),l.globalAlpha=1},R0=40,X0=w0.reduce((e,t,a)=>(t.forEach((r,n)=>{r&&e.push({col:r,pos:k(n*80+140,a*80-(r-1)*80+152)})}),e),[]),t0=0,g0=0,u0=0,q0=()=>{let e=D.x.currentTime;u0=e-g0,g0=e;for(let t of X0){t.pos.y-=u0*(80*w0.length/v0);let a=0;a|=t.pos.x>app.width/2?2:0,a|=t.col>1?1:0,y0.forEach((r,n)=>{if(b&&C0(j,t.pos)<=R0&&T0(t.pos,r.min,r.max)){if(n+1===t.col)t0-=1,B(.3,0,164.81,.02,.2,void 0,3,void 0,void 0,void 0,10,.1,void 0,void 0,-1,void 0,.05,.3,.1);else switch(t0+=1,a){case 0:{B(.2,0,415.3,.02,.2,void 0,3,void 0,void 0,void 0,10,.1,void 0,void 0,-1,void 0,.05,.3,.1);break}case 1:{B(.2,0,277.18,.02,.2,void 0,3,void 0,void 0,void 0,10,.1,void 0,void 0,-1,void 0,.05,.3,.1);break}case 2:{B(.2,0,466.16,.02,.2,void 0,3,void 0,void 0,void 0,10,.1,void 0,void 0,-1,void 0,.05,.3,.1);break}case 3:{B(.2,0,329.63,.02,.2,void 0,3,void 0,void 0,void 0,10,.1,void 0,void 0,-1,void 0,.05,.3,.1);break}}t.pos.y-=app.height}}),l.fillStyle=`rgba(${t.col%2?x0:f0}, .4)`,l.beginPath(),l.arc(t.pos.x,t.pos.y,39,0,2*Math.PI),l.fill(),l.globalAlpha=.8,e0(a,t.pos.x,t.pos.y),l.globalAlpha=1}},c0=1e3/60,Q=0,U=performance.now();(function e(t){Q=t-U,Q>c0&&(U=t-Q%c0,V?(p0(S0),l.clearRect(0,0,app.width,app.height),D0(),q0(),O(0,0,-8,50),l.scale(-1,1),O(0,0,-app.width-8,50),l.scale(1,1),l.setTransform(1,0,0,1,0,0),O(1,1,app.width/2-64,app.height-120-16),B0(),d0("Score: "+t0,12,20,16)):(p0(m0),d0("paused",140,360))),D.x.currentTime>v0&&D.x.suspend(),requestAnimationFrame(e)})(U);
